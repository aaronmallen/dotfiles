#!/usr/bin/env zsh

{{- if eq .packageManager "brew" }}

command -v brew > /dev/null \
  && brew bundle \
  && brew update \
  && brew upgrade \
  && brew cleanup \
  && brew doctor
{{- end }}

{{- if eq .packageManager "paru" }}

command -v paru > /dev/null \
  && paru -Syu --noconfirm \
  && paru -Sc --noconfirm \
  && paru --clean --noconfirm
{{- end }}

{{- if eq .chezmoi.os "darwin" }}

command -v softwareupdate > /dev/null \
  && softwareupdate -i --all
{{- end }}

command -v mise > /dev/null \
  && mise upgrade

command -v chezmoi > /dev/null \
  && chezmoi apply

{{- if eq .chezmoi.os "darwin" }}

defaults write com.apple.dock ResetLaunchPad -bool true
killall Dock
{{- end }}
